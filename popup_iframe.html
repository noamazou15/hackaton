<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<title>Packages</title>
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
	<link href="https://cdn.datatables.net/1.13.4/css/dataTables.bootstrap5.min.css" rel="stylesheet" >
	<link href="./popup_iframe.css" rel="stylesheet" />
</head>

<body>
	<div class="container col-12">
		<h1>Dynamic Table</h1>
		<table id="dynamicTable" class="table w-100">
			<thead>
				<tr>
					<th>Title</th>
					<th>Address</th>
					<th>Bounty</th>
					<th>Select</th>
				</tr>
			</thead>
			<tbody>
			</tbody>
		</table>
	</div>
</body>
	<script async src="https://cdn.jsdelivr.net/npm/es-module-shims@1/dist/es-module-shims.min.js"
		crossorigin="anonymous"></script>
	<script type="importmap">
	    {
	      "imports": {
	        "@popperjs/core": "https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/esm/popper.min.js",
	        "bootstrap": "https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.esm.min.js"
	      }
	    }
	    </script>
	<script type="module">
		import * as bootstrap from 'bootstrap'

		new bootstrap.Popover(document.getElementById('popoverButton'))
	</script>
	<script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
	<script src="https://cdn.datatables.net/1.13.4/js/dataTables.bootstrap5.min.js"></script>
	<script>

		 $(document).ready(function () {
			const geojson1 = {
				 'type': 'LocationCollection',
				 'locations': [
					 {
						 'type': 'Feature',
						 'geometry': {
							 'type': 'Point',
							 'coordinates': [34.855495, 32.109334]
						 },
						 'properties':
							 [
								 {
									 'Title': 'Package For Pickup!',
									 'Address': 'Ibn Gabirol 53',
									 'Bounty': '5 Credits',
									 'Select': ""
								 },
								 {
									 'Title': 'Package For Pickup!',
									 'Address': 'Ibn Gabirol 53',
									 'Bounty': '5 Credits',
									 'Select': ""
								 },
								 {
									 'Title': 'Package For Pickup!',
									 'Address': 'Ibn Gabirol 53',
									 'Bounty': '5 Credits',
									 'Select': ""
								 }

							 ]
					 }
					 ,
					 {
						 'type': 'Feature',
						 'geometry': {
							 'type': 'Point',
							 'coordinates': [34.855595, 32.109334]
						 },
						 'properties':
							 [
								 {
									 'Title': 'Package For Pickup!',
									 'Address': 'Ibn Gabirol 53',
									 'Bounty': '5 Credits',
									 'Select':""
								 },
								 {
									 'Title': 'Package For Pickup!',
									 'Address': 'Ibn Gabirol 53',
									 'Bounty': '5 Credits',
									 'Select': ""
								 },
								 {
									 'Title': 'Package For Pickup!',
									 'Address': 'Ibn Gabirol 53',
									 'Bounty': '5 Credits',
									 'Select': ""
								 }

							 ]
					 }
				 ]
			 };

				//let data = $(this).data('properties');
				data = geojson1.locations[0].properties;
				console.log("Data Iframe ready", data)
				var table = $("#dynamicTable").DataTable({
					data: data,
					columns: [
						{ data: "Title" },
						{ data: "Address" },
						{ data: "Bounty" },
						{ data: "Select" }

					]
				});
			});
	</script>
</html>
